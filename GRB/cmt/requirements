package GRB

use FluxSvc v5r10
use ROOT
use RootIo
use GlastSvc

apply_pattern packageShr
#apply_pattern ld_library_path

#apply_pattern package_linkopts
# This needs to be fixed (?)
#=============================================================
path_append LD_LIBRARY_PATH ${GRBROOT}/${BINDIR}
path_append LD_LIBRARY_PATH ${FLUXSVCROOT}/${BINDIR}
#=============================================================
private

#apply_pattern package_include
apply_pattern package_Cshlibflags
apply_pattern package_headers



# component library, with GRB, GRBmaker, GRBUtil, and LatGRBAlert

macro_append GRB_headers "" WIN32 "../xml/*.xml test/*.xml GRBmaker/*.h LatGRBAlert/*.h GRB/*.h"

library GRB *.cxx GRB/*.cxx Dll/*.cxx GRBmaker/*.cxx  LatGRBAlert/*.cxx ${GRB_headers}

macro GRB_lib "-L${GRBROOT}/${CMTCONFIG} -lGRB "\
        WIN32 "${GRBROOT}/${BINDIR}/GRB.lib "

#non-share test program for development

application test_GRBROOT  test/other/GRBROOTtest.cxx

macro_append test_GRBROOTlinkopts  "${GRB_lib} -L${FLUXSVCROOT}/${CMTCONFIG} -lFluxSvc -lHist  -lMatrix -lGraf -lGraf3d -lGpad "\
      WIN32 " ${GRB_lib} -L${FLUXSVCROOT}/${BINDIR}/FluxSvc.lib "

application grbObsTester   test/other/GRBobsTester.cxx

macro_append grbObsTesterlinkopts  "${GRB_lib} -L${FLUXSVCROOT}/${CMTCONFIG} -lFluxSvc "\
      WIN32 " ${GRB_lib} -L${FLUXSVCROOT}/${BINDIR}/FluxSvc.lib "

# test program, using local joboptions

public set JOBOPTIONS ${GRBROOT}/src/test/jobOptions.txt

apply_pattern package_test
set TESTJOBOPTIONS ${GRBROOT}/src/test/test_jobOptions.txt
set TESTJOBOPTIONS ${GRBROOT}/src/test/jobOptions.txt


