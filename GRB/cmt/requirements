package GRB


use FluxSvc

apply_pattern packageShr


#=============================================================

private
use ROOT

# get flags to build shared library
apply_pattern package_Cshlibflags
apply_pattern package_headers

# component library, with GRB and GRBmaker

macro_append GRB_headers "" WIN32 "../xml/*.xml test/*.xml GRBmaker/*.h GRB/*.h"
library GRB *.cxx GRB/*.cxx  Dll/*.cxx   GRBmaker/*.cxx  ${GRB_headers}

#the following prepend makes package root available locally: avoid the package_include
#apply_pattern package_include
macro_prepend includes "-I $(GRBROOT) " WIN32 "/I $(GRBROOT) "


macro GRB_lib " -L ${GRBROOT}/${CMTCONFIG} -lGRB "\
 	WIN32 "${GRBROOT}/${BINDIR}/GRB.lib "

#non-share test program for development


application test_GRBROOT  test/other/GRBROOTtest.cxx

#macro_append GRBTestlinkopts  "${GRB_lib}"\
#      WIN32 " ${GRB_lib} "

macro_append test_GRBROOTlinkopts  "${GRB_lib} -L${FLUXSVCROOT}/${CMTCONFIG} -lFluxSvc "\
      WIN32 " ${GRB_lib} -L${FLUXSVCROOT}/${BINDIR}/FluxSvc.lib "



application grbObsTester   test/other/GRBobsTester.cxx



macro_append grbObsTesterlinkopts  "${GRB_lib} -L${FLUXSVCROOT}/${CMTCONFIG} -lFluxSvc "\
      WIN32 " ${GRB_lib} -L${FLUXSVCROOT}/${BINDIR}/FluxSvc.lib "



public 
# test program, using local joboptions
apply_pattern package_test



# following should be appended to the linkopts 
#macro_append ROOT_libs  " -lHist  -lMatrix -lGraf -lGraf3d -lGpad" \
#               WIN32    " $(ROOT_PATH)/lib/libHist.lib \
#                        $(ROOT_PATH)/lib/libGpad.lib \
#                        $(ROOT_PATH)/lib/libGraf.lib $(ROOT_PATH)/lib/libGraf3d.lib"

#macro GRBROOT_libs  " -lHist  -lMatrix -lGraf -lGraf3d -lGpad " \
#	WIN32 " ${ROOT_PATH}/lib/libHist.lib ${ROOT_PATH}/lib/libMatrix.lib \
#		${ROOT_PATH}/lib/libGraf.lib ${ROOT_PATH}/lib/libGraf3d.lib \
#		${ROOT_PATH}/lib/libGpad.lib"

